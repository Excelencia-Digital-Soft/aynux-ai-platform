# =============================================================================
# AYNUX - Test Environment Configuration
# =============================================================================
# Used for running pytest and integration tests.
# These values are designed to work with docker-compose.test.yml
# =============================================================================


# =============================================================================
# 1. APPLICATION CORE
# =============================================================================

ENVIRONMENT=test
DEBUG=false
TESTING=true
SKIP_DB_INIT=true


# =============================================================================
# 2. API CONFIGURATION
# =============================================================================

API_V1_STR=/api/v1
PROJECT_NAME=Aynux Test
VERSION=0.0.0-test


# =============================================================================
# 3. WHATSAPP INTEGRATION (Mock values for testing)
# =============================================================================

WHATSAPP_API_BASE=https://graph.facebook.com
WHATSAPP_API_VERSION=v22.0
WHATSAPP_PHONE_NUMBER_ID=test_phone_id
WHATSAPP_VERIFY_TOKEN=test_verify_token
WHATSAPP_ACCESS_TOKEN=test_access_token
WHATSAPP_CATALOG_ID=test_catalog_id
META_APP_ID=test_app_id
META_APP_SECRET=test_app_secret


# =============================================================================
# 4. POSTGRESQL DATABASE (Test database)
# =============================================================================

DB_HOST=localhost
DB_PORT=5432
DB_NAME=aynux_test
DB_USER=test_user
DB_PASSWORD=test_password
DB_ECHO=false


# =============================================================================
# 5. DATABASE POOL SETTINGS (Minimal for tests)
# =============================================================================

DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DB_POOL_RECYCLE=3600
DB_POOL_TIMEOUT=30


# =============================================================================
# 6. REDIS CACHE
# =============================================================================

REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=1
REDIS_PASSWORD=


# =============================================================================
# 7. OLLAMA AI/LLM (Mock for tests)
# =============================================================================

OLLAMA_API_URL=http://localhost:11434
OLLAMA_API_MODEL_SIMPLE=test-model
OLLAMA_API_MODEL_COMPLEX=test-model
OLLAMA_API_MODEL_REASONING=test-model
OLLAMA_API_MODEL_SUMMARY=test-model
OLLAMA_API_MODEL_EMBEDDING=test-embedding


# =============================================================================
# 8. VECTOR SEARCH (pgvector)
# =============================================================================

# pgvector is always enabled (no toggle)
PGVECTOR_SIMILARITY_THRESHOLD=0.7


# =============================================================================
# 9. KNOWLEDGE BASE (RAG)
# =============================================================================

KNOWLEDGE_BASE_ENABLED=false
# Note: Knowledge base uses OLLAMA_API_MODEL_EMBEDDING for embeddings
# and PGVECTOR_SIMILARITY_THRESHOLD for similarity matching


# =============================================================================
# 10. DUX ERP INTEGRATION (Disabled for tests)
# =============================================================================

DUX_API_BASE_URL=https://mock.dux.test
DUX_API_KEY=test_dux_key
DUX_API_TIMEOUT=5
DUX_API_RATE_LIMIT_SECONDS=1
DUX_SYNC_BATCH_SIZE=10


# =============================================================================
# 11. DUX SYNCHRONIZATION (Disabled for tests)
# =============================================================================

DUX_SYNC_ENABLED=false
DUX_SYNC_HOURS=[0]
DUX_FORCE_SYNC_THRESHOLD_HOURS=999


# =============================================================================
# 12. AGENT CONFIGURATION
# =============================================================================

ENABLED_AGENTS=["greeting_agent","product_agent","fallback_agent","farewell_agent"]
PRODUCT_AGENT_DATA_SOURCE=database


# =============================================================================
# 13. JWT AUTHENTICATION
# =============================================================================

JWT_SECRET_KEY=test-secret-key-for-testing-only-do-not-use-in-prod
ACCESS_TOKEN_EXPIRE_MINUTES=60
REFRESH_TOKEN_EXPIRE_DAYS=1


# =============================================================================
# 14. FILE UPLOAD
# =============================================================================

MAX_FILE_SIZE=1048576
ALLOWED_EXTENSIONS=["jpg","png","pdf"]


# =============================================================================
# 15. LANGSMITH MONITORING (Disabled for tests)
# =============================================================================

LANGSMITH_TRACING=false
LANGSMITH_API_KEY=
LANGSMITH_PROJECT=aynux-test


# =============================================================================
# 16. SENTRY ERROR TRACKING (Disabled for tests)
# =============================================================================

SENTRY_DSN=


# =============================================================================
# END OF CONFIGURATION
# =============================================================================
