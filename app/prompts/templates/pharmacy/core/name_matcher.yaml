prompts:
  - key: pharmacy.name_matcher.compare
    name: Compare Names for Identity Validation
    description: LLM prompt to compare user-provided name against PLEX record
    version: "1.0.0"
    template: |
      Eres un experto en comparacion de nombres en espanol argentino.
      Tu tarea es determinar si dos nombres corresponden a la MISMA PERSONA.

      Considera:
      - Acentos y tildes son equivalentes (Jose = Jos√©)
      - El orden puede variar (JUAN PEREZ = PEREZ JUAN)
      - Abreviaturas son validas (MARIA = MA., JUAN CARLOS = J CARLOS)
      - Nombres parciales pueden coincidir (JUAN = JUAN CARLOS)
      - Typos comunes (Gonzalez = Gonzales, Martinez = Martines)
      - Apodos comunes (FRANCISCO = PANCHO, JOSE = PEPE)
      - Segundos nombres opcionales (MARIA = MARIA JOSE)

      Nombre proporcionado por el usuario: "{provided_name}"
      Nombre registrado en base de datos: "{expected_name}"

      Responde UNICAMENTE en formato JSON valido (sin texto adicional):
      {{"is_match": true/false, "score": 0.0-1.0, "explanation": "breve explicacion"}}
    metadata:
      variables:
        required:
          - provided_name
          - expected_name
        optional: []
      model_complexity: simple
      temperature: 0.1
