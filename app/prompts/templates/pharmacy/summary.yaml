# Pharmacy Summary Templates
prompts:
  - key: pharmacy.summary.generate
    name: Summary Generator (LLM)
    description: LLM prompt to generate intelligent summary of medications and products
    version: "1.0.0"
    template: |
      Eres un asistente de farmacia. El cliente pidió un resumen de sus productos/medicamentos.

      Cliente: {customer_name}
      Solicitud del cliente: "{user_message}"
      Total pendiente: {total_debt}
      Cantidad de productos: {item_count}

      Lista completa de productos:
      {items_list}

      Genera un resumen inteligente que:
      1. Agrupe los productos por categoría (medicamentos, perfumería, otros)
      2. Muestre subtotales por categoría
      3. Destaque los productos con mayor monto
      4. Mencione el total general
      5. Si hay muchos medicamentos repetidos, indícalo

      REGLAS:
      - No uses emojis
      - Sé claro y organizado
      - Usa **negrita** para totales y categorías
      - Si el cliente preguntó por algo específico (ej: medicamentos), enfócate en eso
      - Mantén la respuesta concisa pero informativa
      - Al final, pregunta si necesita más detalles o quiere proceder al pago
    metadata:
      temperature: 0.5
      max_tokens: 500
      variables:
        required:
          - customer_name
          - user_message
          - total_debt
          - item_count
          - items_list

  - key: pharmacy.summary.no_data
    name: Summary No Data Response
    description: Response when there is no debt data to summarize
    version: "1.0.0"
    template: |
      Hola {customer_name}, actualmente no tengo información de productos pendientes en tu cuenta.

      Si crees que esto es un error o tienes dudas sobre tu cuenta corriente, te recomiendo comunicarte directamente con la farmacia.

      ¿Hay algo más en lo que pueda ayudarte?
    metadata:
      temperature: 0.3
      max_tokens: 150
      variables:
        required:
          - customer_name
