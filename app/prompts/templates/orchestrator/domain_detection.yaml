# Orchestrator Prompts - Domain Detection
# Purpose: Detect business domain from user message for multi-domain routing

prompts:
  - key: orchestrator.domain.detection
    name: Business Domain Detection
    description: Analyzes user message to determine which Excelencia service it belongs to
    version: "2.0.0"
    template: |
      Analyze this user message and determine which Excelencia service it belongs to.

      Message: "{message}"

      Available services:
      - excelencia: ERP system modules, demos, training, corporate information, incidents, support tickets, bug reports
      - excelencia_invoice: Client invoices, account statements, collections, payments
      - excelencia_promotions: Software promotions, module discounts, implementation offers
      - data_insights: Reports, analytics, business metrics, dashboards
      - support: Technical support for ecommerce, product issues, delivery problems

      Return ONLY the service name (one word): {domains_list}

      If unclear, return: {default_domain}
    metadata:
      temperature: 0.2
      max_tokens: 10
      model: "deepseek-r1:7b"
      tags:
        - orchestrator
        - domain_detection
        - routing
      variables:
        required:
          - message
          - domains_list
          - default_domain
